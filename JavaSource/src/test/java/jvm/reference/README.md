# 引用

> [https://www.cnblogs.com/Courage129/p/12734506.html](https://www.cnblogs.com/Courage129/p/12734506.html)

一个变量指向new对象，就是引用，在Java中有四种引用，分别是强软弱虚

* 强引用(T01_NormalReference)

在程序代码中普遍存在的，类似 `Object obj = new Object()` 这类引用，只要强引用还存在，垃圾收集器永远不会回收掉被引用的对象，简单说只要有引用就不会被回收

* 软引用(T02_SoftReference)

对于软引用关联着的对象，在系统将要发生内存溢出异常之前，将会把这些对象列进回收范围之中进行第二次回收，如果这次回收后还没有足够的内存，才会抛出内存溢出异常，简单说就是空间不够才回收

* 弱引用(T03_WeakReference)

被弱引用关联的对象只能生存到下一次垃圾收集发生之前。当垃圾收集器工作时，无论当前内存是否足够，都会回收掉只被弱引用关联的对象

只要调用了垃圾回收(System.gc())就回收，应用场景：只要强引用消失，则应该被回收，一般用在容器里，典型应用ThreadLock，看下WeakHashMap、AQSunlock源码(Tomcat缓存用的是弱应用)

* 虚引用(T04_PhantomReference)

也叫幽灵引用或幻影引用，是最弱的一种引用关系。一个对象是否有虚引用的存在，完全不会对其生存时间构成影响，也无法通过虚引用来取得一个对象实例。它的作用是能在这个对象被收集器回收时收到一个系统通知